# 二维可视化能力工具 {#concept_610655 .concept}

二维可视化能力工具包括热力图、历史轨迹、3D模型等。本章将详细介绍各个工具的功能和如何使用的方法。

## 前提条件 {#section_nul_yzd_s2r .section}

已根据[场景创建](cn.zh-CN/空间数据可视化/二维数据可视化/场景创建.md#)完成了二维数据可视化场景的创建。

## 3D模型区 {#section_e56_rhi_9iu .section}

使用3D模型区工具前，需要提前制作3D模型。您可以使用自己的3D模型制作工具，也可以在**数据分析** \> **空间数据可视化** \> **三维数据可视化**页面，单击**模型编辑器下载**，参考[搭建工具手册](http://docs-aliyun.cn-hangzhou.oss.aliyun-inc.com/assets/attach/91480/cn_zh/1537238846836/CampusBuilder搭建工具用户手册.pdf)，使用编辑器制作3D模型。

1.  在物联网平台控制台，选择**数据分析** \> **空间数据可视化** \> **二维数据可视化**，单击目标场景。
2.  在地图右上角单击**3D模型区**，在二维地图中添加3D模型。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/492099/156034245249072_zh-CN.png)

3.  单击模型区列表右侧的**添加**，设置3D模型参数。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/492099/156034245349074_zh-CN.png)

    |参数|说明|
    |:-|:-|
    |上传模型|上传已制作好的3D模型文件。 您也可以单击**导入Demo样例**，使用样例模型，体验3D模型区工具。

 |
    |模型区名称|设置模型区名称。可使用汉字、字母、数字和下划线（\_），不超过12个字符。|
    |模型区坐标|在地图上选择置放3D模型的位置。|

4.  添加3D模型区完成后，可通过操作按钮，拖拽、旋转或拉伸3D模型区。您也可以进行删除操作。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/492099/156034245349083_zh-CN.png)


## 历史轨迹 {#section_4o6_qrr_0x7 .section}

1.  在物联网平台控制台，选择**数据分析** \> **空间数据可视化** \> **二维数据可视化**，单击目标场景。
2.  在地图右上角单击**历史轨迹**，设置参数后，查看设备移动的轨迹。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/155550/156034245446545_zh-CN.png)

    |参数|说明|
    |:-|:-|
    |轨迹时段|选择设备轨迹的时间段。 **说明：** 

    -   起始时间与结束时间，最多相隔30天。
    -   生成轨迹后，在播放轨迹时，从起始时间开始播放设备轨迹，最长只支持显示7天的轨迹。
 |
    |选择设备|选择需要查询历史轨迹的设备。 **说明：** 

    -   建议选择有实际轨迹数据的设备，否则可能导致轨迹异常。
    -   最多支持同时查询5个设备轨迹。
 |
    |轨迹效果|历史轨迹显示的效果，包括精确轨迹点和平滑轨迹线。|

3.  设置完成参数后单击**生成轨迹**。

    在地图右上角，通过操作按钮可播放设备移动轨迹。

    **说明：** 

    -   精确轨迹点：是将已选“轨迹时段”内的实际设备移动时间，等比压缩到1分钟进行播放。
    -   平滑轨迹点：是不带时间戳的，即不显示设备上报位置的具体时间点，仅显示设备移动轨迹。
    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/155550/156034245446561_zh-CN.png)


## 热力图 {#section_ptk_u4m_7dz .section}

1.  在物联网平台控制台，选择**数据分析** \> **空间数据可视化** \> **二维数据可视化**，单击目标场景。
2.  在地图右上角单击**热力图**，查看该场景中设备的分布以及设备属性功能显示。

    **说明：** 每个场景默认有一个热力图配置，且不可删除。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/155550/156034245544326_zh-CN.png)

3.  单击热力图类型右侧的**添加**，可设置热力图展示模式。 配置完成后单击**确定**，保存配置。

    **说明：** 最多支持设置3个属性的热力图，即除了默认的设备分布热力图之外，还可额外增加2个属性的热力图。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/155550/156034245644330_zh-CN.png)

    |参数|说明|
    |:-|:-|
    |热力图属性|包括设备分布和设备属性，但仅支持数值类型的设备属性（int，float和double）。     -   设备分布：按照设备的分布密度进行展示。
    -   设备数值属性：展示设备的数值属性热力图。
 |
    |热力图效果|包括热成像和点聚合两种模式。两种模式的效果可在样式说明中查看。|
    |配色|热力图的配色，目前有3种颜色可选。|

    在配置项下方单击**添加热力图**，可继续增加配置项。

    热力图效果配置示例如下：

    -   热力图属性为设备分布，热力图效果为热成像，设备密度高，则配色偏左，反之偏右。

        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/155550/156034245644336_zh-CN.png)

    -   热力图属性为设备数值属性，热力图效果为热成像，则按照每个设备物模型中属性参数值的高低展示颜色。

        **说明：** 设备物模型中属性参数值越高，热成像效果图中显示的颜色越深。例如，设备物模型中属性的参数值取值范围为1~100，当属性值为1时颜色最浅，属性值接近100时颜色最深。

        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/155550/156034245644337_zh-CN.png)

    -   热力图属性为设备数值属性，热力图效果为点集合，则系统会自动对距离较近的设备进行聚合，并对数值属性进行求和或者求平均值。该项配置适用于PM2.5监测等场景。

        **说明：** 系统会获取场景下所有带定位设备当前最新属性数据加权平均值。例如，当前场景有5个带定位的设备，其中4个有属性数据，那么会将4个设备的加权数据平均到5个设备上，显示在二维场景中。

        ``` {#codeblock_2ag_wnz_sae}
        （Dev1有值+Dev2有值+Dev3有值+Dev4有值+Dev5无值）÷ 5
        ```

        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/155550/156034245744338_zh-CN.png)


